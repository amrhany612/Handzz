<!DOCTYPE html>
<html>

<head>
	<title>sign up page</title>
	<link rel="stylesheet" type="text/css" href="/static/css/sign up.css">
	<!-- <link href="https://fonts.googleapis.com/css?family=Poppins:600&display=swap" rel="stylesheet"> -->
	<!-- <script src="https://kit.fontawesome.com/a81368914c.js"></script> -->
	<!-- Font Awesome Library -->
	<link rel="stylesheet" href="/static/css/all.min.css" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- <script src="https://code.iconify.design/1/1.0.7/iconify.min.js"></script> -->
</head>

<body>

	<div class="container">
	<!-- <div id="error-messages"></div> -->
	
		<div class="img">
			<img src="/static/img/Sales consulting-amico.png">
		</div>
		<div class="login-content">
			
			<form action="/register" method="POST" id="signup-form">
				<h2 class="title">Welcome</h2>
				<% if (errors) { %>
				<%for(i in errors){%>
				<div class="input-div one">
					<div class="i">
						<i class="fas fa-user"></i>
					</div>
					<div class="div">
						<h5>First name</h5>
						<input type="text" class="input" name="fname">
						<div class="invalid-feedback"><%= errors[i].msg%></div>

					</div>
				</div>
				<div class="input-div pass">
					<div class="i">
						<i class="fas fa-user"></i>
					</div>
					<div class="div">
						<h5>Last name</h5>
						<input type="text" class="input" name="lname">
					</div>
				</div>
				<div class="input-div pass">
					<div class="i">
						<i class="fas fa-user"></i>
					</div>
					<div class="div">
						<h5>Username</h5>
						<input type="text" class="input" name="username">
					</div>
				</div>
				<div class="input-div pass">
					<div class="i">
						<i class="fas fa-home"></i>
					</div>
					<div class="div">
						<h5>Address</h5>
						<input type="text" class="input" name="address">
					</div>
				</div>
				<div class="input-div pass">
					<div class="i">
						<i class="fa-solid fa-mobile-retro "></i>
					</div>
					<div class="div">
						<h5>phone number</h5>
						<input type="number" class="input" name="ph">
					</div>
				</div>
				<div class="input-div pass">
					<div class="i">
						<i class="fas fa-lock"></i>
					</div>
					<div class="div">
						<h5>password</h5>
						<input type="password" class="input" name="password">
					</div>
				</div>
					<div class="div">
						<input type="hidden" class="input" name="type" value="user">
					</div>
					<%}%>
					<% }else{%>
						<div class="input-div one">
							<div class="i">
								<i class="fas fa-user"></i>
							</div>
							<div class="div">
								<h5>First name</h5>
								<input type="text" class="input" name="fname">
								<div class="invalid-feedback"></div>
		
							</div>
						</div>
						<div class="input-div pass">
							<div class="i">
								<i class="fas fa-user"></i>
							</div>
							<div class="div">
								<h5>Last name</h5>
								<input type="text" class="input" name="lname">
							</div>
						</div>
						<div class="input-div pass">
							<div class="i">
								<i class="fas fa-user"></i>
							</div>
							<div class="div">
								<h5>Username</h5>
								<input type="text" class="input" name="username">
							</div>
						</div>
						<div class="input-div pass">
							<div class="i">
								<i class="fas fa-home"></i>
							</div>
							<div class="div">
								<h5>Address</h5>
								<input type="text" class="input" name="address">
							</div>
						</div>
						<div class="input-div pass">
							<div class="i">
								<i class="fa-solid fa-mobile-retro "></i>
							</div>
							<div class="div">
								<h5>phone number</h5>
								<input type="number" class="input" name="ph">
							</div>
						</div>
						<div class="input-div pass">
							<div class="i">
								<i class="fas fa-lock"></i>
							</div>
							<div class="div">
								<h5>password</h5>
								<input type="password" class="input" name="password">
							</div>
						</div>
							<div class="div">
								<input type="hidden" class="input" name="type" value="user">
							</div>
							<%}%>
			
				<!-- <input type="submit" class="btn" value="sign up"> -->
				<button type="submit" class="btn">sign up</button>
				<p class="or">
					or
				</p> 
				<button class="social-signin google"><iconify-icon icon="logos:google-gmail"></iconify-icon> sign up
					with Google+</button>
				
				<div class="try">

				</div> 


			</form>
		</div>
	</div>
	<script type="text/javascript" src="/static/js/main2.js"></script>
	<!-- <script>const form = document.querySelector('form');
		const errorMessages = document.getElementById('error-messages');
		
		form.addEventListener('submit', (event) => {
		  event.preventDefault();
		  const formData = new FormData(form);
		
		  fetch('/register', {
			method: 'POST',
			body: formData
		  })
			.then((response) => {
			  if (response.ok) {
				// window.location.href="/login";
				console.log('DOne')
			  } else {
				return response.json();
			  }
			})
			.then((data) => {
			  if (data && data.errors) {
				// Display error messages
				errorMessages.innerHTML = data.errors.map((error) => `<p>${error.msg}</p>`).join('');
			  }
			})
			.catch((error) => {
			  console.log(error)
			});
		});</script> -->

		<!-- <script>
			const form = document.getElementById('signup-form');
const errorMessages = document.getElementById('error-messages');

form.addEventListener('submit', (event) => {
  event.preventDefault();
  const formData = new FormData(form);

  fetch('/register', {
    method: 'POST',
    body: formData
  })
  .then((response) => {
    if (response.ok) {
      window.location.href = '/login';
    } else {
      return response.json();
    }
  })
  .then((data) => {
    if (data && data.errors) {
      // Clear existing error messages
      errorMessages.innerHTML = '';

      // Display error messages
      data.errors.forEach((error) => {
        const errorElement = document.createElement('p');
        errorElement.innerText = error.msg;
        errorMessages.appendChild(errorElement);
      });
    }
  })
  .catch((error) => {
    console.log(error)
  });
});
		</script> -->
		
</body>

</html>